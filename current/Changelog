2008-07-21  John Ralls  <john@ceridwen.fremont.ca.us>

	* include/wxGuiTest/WxGuiTestApp.h:
	Added SetMapHandler() and map_handler(GdkEvent*, gpointer) to
	catch native window creation events in gtk+.
	
2008-05-30  John Ralls  <john@ceridwen.fremont.ca.us>

	* src/wxGuiTest/WxGuiTestApp.cpp:
	* include/wxGuiTest/WxGuiTestApp.h: Added struct
	NativeWindowRegistryEntry to keep track of native widgets on
	platforms (gtk+ being the instant motivation) where it's up to the
	application to keep track of pointers to windows.

2008-05-11  John Ralls  <john@ceridwen.fremont.ca.us>

	* src/wxGuiTest/WxGuiTestApp.cpp: Removed the gtk+ static event
	loop functions and replaced with a new class wxTestEventLoop. This
	can be run via MainLoop and thus retain control of the AUT even
	when a wx dialog box starts a new event loop in
	ShowModal(). OnIdle is seldom called now (and if it is likely
	indicates a problem!)
	
2008-04-23  John Ralls  <john@ceridwen.fremont.ca.us>

	* src/wxGuiTest/CRCppEmitter.cpp (CRCppEmitter::SetTestCaseFileContext):
	Fixed bug introduced 2008-01-19 when converting from
	"while(!done)" to a for loop.

	* test/CppGuiTest/CRCaptureTest.cpp:
	* test/CppGuiTest/EventSimulationHelperTest.cpp: Added MyButton
	struct to provide an event handler which opens a message dialog
	when the button is pressed to enable testing native dialog
	interaction. Added member variables m_winreg, m_mapHandlerFlag.

	* build/bakefile/wxGuiTesting.bkl: Commented out extra warnings,
	added template for including/linking gtk+ for native event
	handling.

	* configure.ac:
	* aclocal.m4: Added macros and tests to find gtk+ installation.

2008-04-22  John Ralls  <john@ceridwen.fremont.ca.us>
	
	* include/wxGuiTest/WxGuiTestHelper.h: Added
	SetUseNativeEvents(bool), PusheEvent(wxString), DoNextEvent(),
	class variables s_useNativeEvents & s_eventQueue

2008-04-18  John Ralls  <john@ceridwen.fremont.ca.us>

	* test/CppGuiTest/CppUnitTextTestApp.cpp (main): Copy the GTK
	OUTPUT hack from the sample.

	* src/wxGuiTest/WxGuiTestHelper.cpp (wxTst): Changed init of
	s_doExitMainLoopOnIdle to false. WxGuiTestApp::MainLoop() should
	set it to true and WxGuiTestApp::ExitMainLoop() should set it back
	to false -- if they need OnIdle handling to escape the main loop.

	* test/CppGuiUnitTest/DirDialogManipulator.cpp
	(DirDialogManipulator::Execute()): Added a SetPath to "~/" for GTK
	testing. 

2008-04-04  John Ralls  <john@ceridwen.fremont.ca.us>

	* src/wxGuiTest/WxGuiTestApp.cpp (WxGuiTestApp::MainLoop):
	(WxGuiTestApp::ExitMainLoop): Added (along with GTK static
	functions) to control AUT event loop execution.

	* src/wxGuiTest/CRCapture.cpp (CRCapture::Show): Corrected comment.

2008-03-29  John Ralls  <john@ceridwen.fremont.ca.us>

	* include/wxGuiTest/CREventCaptureManager.h (CREventCaptureManager): 
	Added member m_catMask and setter SetCategoryMask(uint16_t)
	Renamed LogNativeEvent to LogEvent.

	* src/wxGuiTest/CREventCaptureManager.cpp (CREventCaptureManager::FilterEvent): 
	Added capture for GTK events.

	* include/wxGuiTest/CRNativeEvents.h: Renamed to CREvent.h
	* src/wxGuiTest/NativeEvents/CRNativeEvents.cpp: Renamed to
	CREvent.cpp; separated from implementation for pimpl idiom.
	* src/wxGuiTest/NativeEvents/CREventImpl.cpp:
	* src/wxGuiTest/NativeEvents/CREventImpl.h:
	Added to provide implementation of CREvents. Registers all
	existing wxEvents as of time of creation. Porvides framework for
	recording, serializing, and posting of wxEvents.
	* src/wxGuiTest/NativeEvents/CRGTKEvent.h:
	* src/wxGuiTest/NativeEvents/CRGTKEvent.cpp:
	Added, to interpret, serialize, and post gtk+ events.
	

2008-03-21  John Ralls  <john@ceridwen.fremont.ca.us>

	* include/wxGuiTest/CRWindowHierarchyHandler.h (FindContainerName): 
	Changed the parm from wxWindow* to const wxWindow*.

2008-03-16  John Ralls  <john@ceridwen.fremont.ca.us>

	* build/bakefile/presets/osx_bundle.bkl: Fixed up rules to work
	with Leopard.

2008-03-15  John Ralls  <john@ceridwen.fremont.ca.us>

	* src/wxGuiTest/NativeEvents:
	Added directory.

	* src/wxGuiTest/NativeEvents/CRMSWEvents.h:
	* src/wxGuiTest/NativeEvents/CRMSWEvents.h:
	Added files. CREventImpl specialization for MSW.

2008-02-14    John Ralls <john@ceridwen.fremont.ca.us>

	* src/wxGuiTest/CREventCaptureManager.cpp
	(CREventCaptureManager::clrFilterHook) 
	(CREventCaptureManager::setFilterHook)
	(CREventCaptureManager::setMsgHook)
	(CREventCaptureManager::LogWindowsMessage)
	(CREventCaptureManager::clrMsgHook, wxTst::msgFilterHook)
	(wxTst::getMsgHook, CREventCaptureManager::LogNativeEvent): New
	functions to support native event capture and logging in MSW.

	* src/wxGuiTest/CREventCaptureManager.cpp
	(CREventCaptureManager::FilterEvent): Fixed capture log output: It
	needed ASCII, was getting Unicode in a Unicode build.

2008-01-21  John Ralls  <john@manjusri.ceridwen.fremont.ca.us>

	* src/swWxGuiTesting/swWxGuiTestProvokedWarningRegistry.cpp 
	(WxGuiTestProvokedWarningRegistry::FindRegisteredWarning): Now
	ignores message if it's empty and compares it otherwise. 

	* include/wxGuiTest/swWxGuiTestProvokedWarning.h: Changed
	m_message from pointer (incredibly dangerous) to a string.

2008-01-20  John Ralls  <john@manjusri.ceridwen.fremont.ca.us>

	* test/CppGuiTest/swCRWindowHierarchyHandlerTest.h: Deleted
	function testFindWindowContainer() because there is no
	corresponding function in CRWindowHierarchyHandler.

2008-01-19  John Ralls  <john@manjusri.ceridwen.fremont.ca.us>

	* src/swWxGuiTesting/swCRCppEmitter.cpp
	(CRCppEmitter::SetTestCaseFileContext): Tightened up another
	rambling loop.

	* src/swWxGuiTesting/VtkWxGuiTesting/swCRVtkCaptureControl.cpp
	(CRVtkCaptureControl::OnAddWxVtkRecording): Corrected double use
	of the same iterator.

	* src/swWxGuiTesting/swWxGuiTestProvokedWarningRegistry.cpp
	(WxGuiTestProvokedWarningRegistry::FindRegisteredWarning):
	Collapsed overly complicated loop & fixed failure to test warning
	message against the parameter.

	* src/swWxGuiTesting/swWxGuiTestApp.cpp: Imported necessary
	functions from swApp; changed references to sw::App and
	sw::PseudoApp to wxApp.

2008-01-17  John Ralls  <john@manjusri.ceridwen.fremont.ca.us>

	* src/swFrameworkDependent/Widget/swTreeCtrl.cpp: 
	* src/swFrameworkDependent/Widget/swSpinCtrlDouble.cpp: 
	* src/swFrameworkDependent/Widget/swNewBitmapButton.cpp: 
	Updated to reflect move of headers back to sourcedir.
	
	* src/swWxGuiTesting/CapturedEvents/swCRSpinCtrlUpdateEvent.cpp
	(CRSpinCtrlUpdateEvent::Process):  
	* src/swWxGuiTesting/CapturedEvents/swCRTreeItemRightClickEvent.cpp
	(CRTreeItemRightClickEvent::EmitCpp):  
	* src/swWxGuiTesting/CapturedEvents/swCRRadioBoxSelectionEvent.cpp
	(CRRadioBoxSelectionEvent::EmitCpp):  
	* src/swWxGuiTesting/CapturedEvents/swCRTreeSelectionChangingEvent.cpp
	(CRTreeSelectionChangingEvent::EmitCpp):  
	* src/swWxGuiTesting/CapturedEvents/swCRTextUpdateEvent.cpp
	(CRTextUpdateEvent::EmitCpp):  
	* src/swWxGuiTesting/CapturedEvents/swCRSliderUpdateEvent.cpp
	(CRSliderUpdateEvent::EmitCpp):  
	* src/swWxGuiTesting/CapturedEvents/swCRChoiceSelectionEvent.cpp
	(CRChoiceSelectionEvent::EmitCpp):  
	* src/swWxGuiTesting/CapturedEvents/swCRCheckBoxClickEvent.cpp
	(CRCheckBoxClickEvent::EmitCpp):  
	* src/swWxGuiTesting/CapturedEvents/swCRButtonClickEvent.cpp
	(CRButtonClickEvent::Process):  Commented out XRC checks, use of
	m_isXRC, fixed missing _T() in emitted string, corrected member
	initialization where required.

2008-01-15  John Ralls  <john@manjusri.ceridwen.fremont.ca.us>

	* src/swWxGuiTesting/swWxGuiTestEventSimulationHelper.cpp
	(WxGuiTestEventSimulationHelper::GetNthTreeChild): Copied this
	from swTreeCtrl, needed by CRTreeSelectionChangingEvent.

	* include/wxGuiTest/swCRWindowHierarchyHandler.h
	(FindContainerName): Deleted no-longer-needed parameter
	isUnknownCtrl. 

2008-01-13  John Ralls  <john@manjusri.local>

	* test/VtkTest/swCRVtkCaptureTest.cpp:
	* test/CppGuiTest/swCRWindowHierarchyHandlerTest.cpp:
	* test/CppGuiTest/swCRCaptureTest.cpp: 
	* test/CppGuiTest/swCapturePlusEmittingTest.cpp:
	Removed (well, commented out) all references to swSpinCtrlDbl and
	swConfig*. 
	
	* test/CppGuiTest/swCRWindowHierarchyHandlerTest.cpp:
	Commented out FindXRCNode().
	
	* src/swWxGuiTesting/swCRWindowHierarchyHandler.cpp
	(CRWindowHierarchyHandler::CRWindowHierarchyHandler): Added
	wxMDIParentFrame and wxMDIChildFrame to m_contMap.

2008-01-12  John Ralls  <john@manjusri.local>

	* src/swWxGuiTesting/swCRWindowHierarchyHandler.cpp
	(CRWindowHierarchyHandler::FindContainerName): Or maybe we'll just
	dump this whole XRC parsing thing altogether as a waste of time.

	* src/swWxGuiTesting/swCRXRCResource.h: Changed nodelist to a
	vector, since it used vector, not list, semantics.

	* src/swWxGuiTesting/swCRXRCReader.cpp (CRXRCReader::GetResource): 
	Removed working with directories: This has been moved up to
	CRWindowHierarchyHandler. 

	* src/swWxGuiTesting/swCRXRCObject.h: 
	* src/swWxGuiTesting/swCRXRCReader.h: 
	* src/swWxGuiTesting/swCRXRCResource.h: 
	* src/swWxGuiTesting/swCRXRCNode.h: 
	* include/wxGuiTest/swCRWindowHierarchyHandler.h: 
	Replaced CRXRCObject*, CRXRCNode* and CRXRCResource* with their
	respective wxSharedPtr<> typedefs.

2008-01-11  John Ralls  <john@manjusri.local>

	* include/wxGuiTest/swCRWindowHierarchyHandler.h: Replaced the use
	of sw::Config with an internal vector of resource sets. The
	resources are parsed at the time of registration using the new
	function registerResDir. HierarchHandler is now able to handle
	multiple files in multiple directories. 

	* build/bakefile/swWxGuiTesting.bkl: Created new library target
	swFramework to hold code needed by the test programs but not by
	the library. 

	* build/bakefile/files.bkl: Separated swFramework files into
	controls, which are now in group FD_TEST_SOURCES and those needed
	for the library, in FD_LIB_SOURCES

	* include/wxGuiTest/swWxGuiTestEventSimulationHelper.h
	* src/swWxGuiTesting/swWxGuiTestHelper.cpp
	* src/swWxGuiTesting/CapturedEvents/swCRTextUpdateEvent.cpp
	* src/swWxGuiTesting/CapturedEvents/swCRMenuSelectionEvent.h
	* src/swWxGuiTesting/CapturedEvents/swCRSpinCtrlUpdateEvent.h: 
	Removed all references to swFramework

	* src/swWxGuiTesting/CapturedEvents/swCRMenuSelectionEvent.cpp
	(CRMenuSelectionEvent::Process): Refactored Process() with
	"Extract Method".


2007-12-28  John Ralls  <john@ceridwen.fremont.ca.us>

	* sample/rc/custclass.xrc:
	* sample/rc/frame.xrc:
	* sample/rc/platform.xrc: Corrected class of MDIframes.
	
	* sample/myframe.cpp:
	* sample/ReplayTest.cpp: Fixed capitalization errors exposed in Linux. 


2007-12-28    <john@ceridwen.fremont.ca.us>

	* sample/myframe.cpp (MyFrame, OnCustomClassToolOrMenuCommand):
	(OnPlatformPropertyToolOrMenuCommand): Changed LoadFrame to
	LoadObject, which is what's needed for MDI-frames.
	
2007-12-20  John Ralls  <john@manjusri.ceridwen.fremont.ca.us>

	* swWxGuiTestTempInteractive.cpp
	(WxGuiTestTempInteractive::ShowCurrentGui): New unicode fix.

	
2007-12-23  John Ralls  <john@manjusri.ceridwen.fremont.ca.us>

	* swWxGuiTestTempInteractive.cpp: Rewritten to create a new dialog
	on every call to ShowCurrentGui. The original created a dialog on
	the first invocation and used it until the interactive object was 
	destroyed, which ignored subsequent calls with filename and line #
	so the original filename and line number were produced every time.

	* swWxGuiTestTempInteractive.h: Added the warning notice for the
	TEMP_INTERACTIVE_GUI_TEST macro.

